<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">    
    <title>FeedNeedy</title>
   
</head>
<body> 
    <div class="login"> 
      <div class="side-image" style="display: flex; justify-content: center; align-items: center;">
        <img src="foodgiving-im.png">
      </div>
        <div class="login-box">
            <div class="logo-image">
                <img src="feedNeedy logo.png">
            </div>
            <form name="login_form" id="login_form" method="post" action="sample.html" enctype="multipart/form-data" >
                <div class="row">
              
                  <div class="col-sm-4">
                      <div class="form-group">
                        <label for="email">Email</label>
                        <input type="text" name="email" id="login_email" class="form-control" placeholder="Enter your email">
                      </div>
                      
                      <div class="form-group">
                        <label for="password" >Password</label>
                        <input type="password" name="password" id="login_password" class="form-control"  placeholder="Enter your password">
                      </div>
                      <button type="button" id="login" name="login" class="btn btn-success">Login </button>
                  </div>
                  <div class="new-register">
                    <h3> Not A Member yet ?<a href="firesign-up.html">Sign-Up</a></h3>
                </div>
            </div>
        <script type="module">
           
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
            import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
            import { getAuth,  signInWithEmailAndPassword, signOut} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";
            
            const firebaseConfig = {
            apiKey: "AIzaSyCGwJDCV4r8vFhZBdDqM6xKavUf2rRzL3I",
            authDomain: "test-feed-needy.firebaseapp.com",
            databaseURL: "https://test-feed-needy-default-rtdb.firebaseio.com",
            projectId: "test-feed-needy",
            storageBucket: "test-feed-needy.appspot.com",
            messagingSenderId: "609908562516",
            appId: "1:609908562516:web:a806d05d99581fea58ebc1",
            measurementId: "G-62Q9BQ1RCJ"
            };
      
      
            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);
            const auth = getAuth();
            console.log(app);
            
      
            //----- Login code start	  
            document.getElementById("login").addEventListener("click", function() {
                var email =  document.getElementById("login_email").value;
                var password = document.getElementById("login_password").value;
      
                signInWithEmailAndPassword(auth, email, password)
                .then((userCredential) => {
                  // Signed in 
                  const user = userCredential.user;
                  console.log(user);
                  alert(user.email+" Login successfully!!!");
                  window.location.href = "home.html";
                })
                .catch((error) => {
                  const errorCode = error.code;
                  const errorMessage = error.message;
                  console.log(errorMessage);
                  alert(errorMessage);
                });		  		  
            });
            if (userAuthenticated) {
      // redirect to home page
      
            }
      
          </script>
</div>
</body>
</html>